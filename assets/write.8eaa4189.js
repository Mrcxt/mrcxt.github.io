import{g as e}from"./index.f7e85246.js";import{r as a}from"./randomColor.02b6ad41.js";import{p as t,h as s,x as r,i as l,y as o,r as n,o as i,c as u,s as d,b as c,v as m,t as y,z as p,F as v,j as _,k as f}from"./vendor.6c522447.js";import{r as g,t as b,f as k}from"./index.3919427e.js";const x=f();t("data-v-df435e78");const h={key:0},w={class:"article__list"},j={key:0,class:"year"},D={class:"article__group"},q={class:"article--time"},F=m("查看更多>>>");s();const B={expose:[],props:{year:Boolean,more:Boolean,max:Number},setup(t){const s=r(),f=l([]);o((()=>s.query),(a=>{f.value=[],e(a).then((e=>{f.value=e}))}),{deep:!0,immediate:!0});const B=(()=>{let e=null;return a=>(a=new Date(a),e?!function(e,a){g(2,arguments);var t=b(e),s=b(a);return t.getFullYear()===s.getFullYear()}(e,a)&&(e=a,!0):(e=a,!0))})();return(e,r)=>{const l=n("a-tag"),o=n("router-link"),g=n("a-skeleton");return i(),u(g,{active:"",paragraph:{rows:3},loading:!f.value.length},{default:x((()=>{var e,r;return[(null==(r=null==(e=d(s))?void 0:e.query)?void 0:r.labels)?(i(),u("div",h,[c(l,{color:d(a)({luminosity:"bright"})},{default:x((()=>[m(y(d(s).query.labels),1)])),_:1},8,["color"])])):p("",!0),c("ul",w,[(i(!0),u(v,null,_(f.value.slice(0,t.max),(e=>(i(),u("li",{key:e},[t.year&&d(B)(new Date(e.created_at))?(i(),u("h3",j,y(d(k)(new Date(e.created_at),"yyyy")),1)):p("",!0),c("div",D,[c("div",q,y(d(k)(new Date(e.created_at),"yyyy-MM-dd")),1),c(o,{class:"article--title ellipsis",to:{name:"post",params:{id:e.number}}},{default:x((()=>[c("span",null,y(e.title),1)])),_:2},1032,["to"])])])))),128))]),t.more?(i(),u(o,{key:1,class:"more",to:{name:"write"}},{default:x((()=>[F])),_:1})):p("",!0)]})),_:1},8,["loading"])}},__scopeId:"data-v-df435e78"};export{B as _};
